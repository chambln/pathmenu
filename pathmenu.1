.\" pathmenu
.\" Copyright (c) 2019-2020 Gregory L. Chamberlain
.\" Available under the MIT License -- see LICENSE file.
.TH "PATHMENU" "1" "August 2020"
.SH NAME
pathmenu \- browse and select files with dmenu
.SH SYNOPSIS
.B pathmenu
.RB [ \-A | \-F | \-P | \-a | \-d ]
.RB [ -c
.IR command ]
.RB [ -- ]
.SH DESCRIPTION
.PP
.B pathmenu
allows the user to browse the filesystem and select files using
.BR dmenu (1)
or a suitable replacement (see
.BR \-c ).
Selected file paths are written to standard output in absolute form and
one per line.
.PP
For some programs such as
.BR rsync (1),
the presence of a forward slash immediately following the name of
a directory can be meaningful and affect program behaviour.
With the exception of \f[C]./\f[R], directories selected in pathmenu are
printed without the trailing slash; so, the only way to have pathmenu
include the trailing slash is by descending into the desired directory
and selecting \f[C]./\f[R].
.SH OPTIONS
.TP
.B \-A
Show all hidden files except \f[C].\f[R] and \f[C]..\f[R].
.IP
Combined with
.B \-a
the effect is inverted so that
\f[C].\f[R] and
\f[C]..\f[R]
are the only hidden files shown.
.TP
.B \-F
Append a forward slash to each directory name.
.TP
.B \-P
Resolve symbolic links when changing directories.
See the same option in
.BR cd (1).
.TP
.B \-a
Show hidden files.
(See also
.BR \-A .)
.TP
.BI "-c " command
Use
.I command
as the dynamic menu command instead of the default
which is \f[C]dmenu -p "$PWD"/\f[R].
.IP
.B Warning:
This command is reinterpretted by the shell using eval(1),
so it is possible to execute arbitrary code this way.
.TP
.B \-d
Show only directories.
.SH BUGS
.PP
File names are piped into
.BR dmenu (1)
one per line
and so file names that contain new line characters
cannot be listed safely;
therefore they are omitted.
A solution might be to encode file names before piping them into dmenu,
and decode file names selected or written by the user,
but this is not (yet) implemented.
.SH AUTHOR
Gregory Chamberlain <greg\[at]cosine.blue>.
.SH SEE ALSO
.BR dicemenu (1),
.BR dmenu (1)
.BR fzf (1),
.BR rofi (1)
